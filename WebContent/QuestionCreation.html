<!Doctype html>
<html>
	<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <link rel="stylesheet" href="css/question_creation_style.css">
	</head>
	<body>
	<h1>Create question here!</h1>
    <form action="QuestionCreationServlet" method="post" id="main_form">
        <textarea class="area" name="question_area" rows = "10" cols="72">Replace this text with your question.
        </textarea><br>
        <div class="options">
            <div>
            <input type="radio" name="radio" id="box2" class="radio" checked/>
            <label for="box2">Multiple-choice</label>
            </div>
            
            <div>
            <input type="radio" name="radio" id="box3" class="radio"/>
            <label for="box3">Text-response</label>
            </div>
            
            <div>	
            <input type="radio" name="radio" id="box1" class="radio"/>
            <label for="box1">Picture-response/Fill-a-blank</label>
            </div>
            <br>
    
            <div id = "pic" style = "display:none">
                Please enter URL of the picture here
                <input type = "text" style= "width:450px">
            </div>
            <div id = "answers">
                <button id ="newField" type ='button' class="buttons" style="margin-top:30px;">Add another input field</button><br>
                <input type ="text" value="For multiple choice this must be correct" style= "width:450px"><br>
            </div>
    	</div>
	</form>
    
	<script>
		document.getElementById("box1").addEventListener("click",toggle);
		document.getElementById("box2").addEventListener("click",toggle);
		document.getElementById("box3").addEventListener("click",toggle);
		document.getElementById("newField").addEventListener("click",appendInput);
		//toggles state of URL writability
		//only image questions need URL text field
		function toggle() {
			   var e = document.getElementById("pic");
			   var a = document.getElementById("box1");
			   if (a.checked)
					e.style.display = "block";
				else
					e.style.display = "none";
			}
		//appends new input text field and button
		//user might want to have lots of answers
		function appendInput(){
			var txt = "<input type = 'text' style= 'width:450px'><button type = 'button' name = 'removeButton' class='buttons'>Remove</button><br>";
			$("#answers").append(txt);
		}
		//removes the new buttons and text fields
		//for input. doesn't leave newlines
		$(document).ready(function(){
			$(document).on("click","button",function(e){
				var x = e.target.getAttribute("name");
				var t = $(e.target).prev();
				var z = $(e.target).next();
				if (x == "removeButton"){
					$(t).remove();
					$(e.target).remove();
					$(z).remove();
					}
				});
			});
	</script>
    <div class="buttonHolder">
        <input type ="submit"  value="Submit and create another question" form="main_form" style="background:#556B2F;"><br><br>
        <input type ="submit"  value="Submit and finish creating the quiz" form="main_form" style="background:#FF0000;"><br>
	</div>
    </body>
</html>